# Миграция с ASDF на Mise на Arch Linux

## Почему переходим?

`mise` (ранее `rtx`) — это современная, быстрая и удобная замена для `asdf`.
- **Скорость:** Ядро на Go/Rust значительно быстрее, чем `asdf` на Bash. Отклик терминала становится мгновенным.
- **Удобство:** `mise` автоматически устанавливает недостающие инструменты при заходе в директорию (не нужно вручную запускать `install`).
- **Надежность на Arch:** `mise` находится в официальных репозиториях (`extra`), в то время как `asdf` из AUR (`asdf-vm`) может быть нестабилен.
- **Совместимость:** `mise` на 100% совместим с файлами `.tool-versions` и плагинами `asdf`.

---

## Пошаговый план миграции

### 1. Полная очистка от `asdf`

> **Цель:** Убрать старый менеджер и его конфигурацию, чтобы избежать конфликтов.

1.  **Удалить системный пакет `asdf`:**
    ```bash
    yay -Rns asdf-vm
    ```

2.  **Очистить `.zshrc`:**
    - Открыть `~/.zshrc` в редакторе.
    - Найти и полностью удалить строки, связанные с `asdf`.

3.  **Сделать бекап установленных версий (опционально, но рекомендуется):**
    - Если директория `~/.asdf` существует (от ручной установки), переименовать её:
      ```bash
      mv ~/.asdf ~/.asdf_backup
      ```

### 2. Установка и настройка `mise`

> **Цель:** Установить `mise` и интегрировать его в рабочую оболочку.

1.  **Установить `mise` из официальных репозиториев:**
    ```bash
    yay -S mise
    ```

2.  **Активировать `mise` в `.zshrc`:**
    - Выполнить команду, которая добавит правильную строку инициализации в конец `~/.zshrc`:
      ```bash
      echo -e '\n# mise - modern, fast tool version manager\neval "$(mise activate zsh)"' >> ~/.zshrc
      ```

3.  **Применить изменения:**
    - Перезапустить терминал или выполнить:
      ```bash
      source ~/.zshrc
      ```

### 3. Восстановление инструментов

> **Цель:** Переустановить все необходимые версии ПО с помощью нового менеджера.

1.  **Зайти в любую директорию проекта** с файлом `.tool-versions`.
2.  **Запустить установку:** `mise` сам найдет, скачает плагины и установит всё недостающее.
    ```bash
    mise install
    ```

### 4. Финальная очистка

> **Цель:** Удалить старые, больше не нужные файлы.

- После того как вы убедились, что `mise` работает, можно безопасно удалить бекап:
  ```bash
  rm -rf ~/.asdf_backup