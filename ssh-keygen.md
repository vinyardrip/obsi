
Конечно! Вот полная пошаговая инструкция для настройки беспарольного входа по SSH с нуля, используя современный и рекомендованный ключ **Ed25519**.

Мы настроим подключение **с Машины 1 на Машину 2**.

- **Машина 1** — это компьютер, с которого вы будете подключаться (клиент).
    
- **Машина 2** — это компьютер, к которому вы будете подключаться (сервер).
    

---

### **Шаг 1: Создание ключа Ed25519 на Машине 1 (Клиент)**

На этом шаге мы создаем новую пару ключей (приватный и публичный) на той машине, с которой будем инициировать соединение.

1. Откройте терминал на **Машине 1**.
    
2. Выполните команду для генерации ключа.
    
    Generated bash
    
    ```
    ssh-keygen -t ed25519 -C "ключ для доступа к моей второй машине Arch"
    ```

    
    - -t ed25519: Указывает, что мы создаем ключ именно типа Ed25519.
        
    - -C "...": Добавляет комментарий к ключу. Это необязательно, но очень помогает не запутаться в ключах в будущем. Можете написать свою почту или любое описание.
        
3. Вам зададут несколько вопросов. **Это важный момент.**
    
    - **Enter file in which to save the key (/home/hyrip/.ssh/id_ed25519):**  
        Нажмите **Enter**, чтобы согласиться с путем по умолчанию. Это стандартное и правильное место для хранения этого типа ключа.
        
    - **Enter passphrase (empty for no passphrase):**  
        Это пароль для дополнительной защиты вашего приватного ключа.
        
        - **Ваш случай (локальная сеть):** Для максимального удобства просто нажмите **Enter** (не вводя ничего).
            
        - Затем вас попросят подтвердить: **Enter same passphrase again:**. Снова нажмите **Enter**.  
            Это создаст ключ без пароля, и для подключения не нужно будет вводить вообще ничего.
            
4. **Результат:**  
    Команда выведет красивый "арт" и сообщит, что ключ сохранен. В вашей домашней папке в скрытой директории ~/.ssh/ были созданы два файла:
    
    - id_ed25519 — Ваш **приватный** (секретный) ключ. **Никому его не показывайте и не передавайте.**
        
    - id_ed25519.pub — Ваш **публичный** ключ. Его мы и скопируем на вторую машину.
        

---

### **Шаг 2: Копирование публичного ключа на Машину 2 (Сервер)**

Теперь нужно безопасно скопировать публичный ключ (id_ed25519.pub) с Машины 1 на Машину 2 и поместить его в специальный файл authorized_keys. Для этого есть идеальная утилита.

1. Находясь на **Машине 1**, выполните команду:
    
    Generated bash
    
    ```
    ssh-copy-id -i ~/.ssh/id_ed25519.pub hyrip@IP_АДРЕС_МАШИНЫ_2
    ```
    
    - ssh-copy-id: Название утилиты.
        
    - -i ~/.ssh/id_ed25519.pub: Флаг -i (identity file) явно указывает, какой именно публичный ключ нужно скопировать.
        
    - hyrip@IP_АДРЕС_МАШИНЫ_2: Замените на реальный логин и IP-адрес Машины 2.
        
2. Система попросит вас **в последний раз ввести пароль** от пользователя hyrip на Машине 2. Введите его и нажмите Enter.
    
3. **Готово!** Утилита ssh-copy-id сама подключится к Машине 2, создаст (если нужно) файл ~/.ssh/authorized_keys, добавит в него ваш публичный ключ и выставит правильные права доступа к файлам и папкам.
    

---

### **Шаг 3: Проверка подключения**

Самый приятный шаг. Проверяем, что всё работает.

1. На **Машине 1** выполните команду подключения к Машине 2:
    
    Generated bash
    
    ```
    ssh hyrip@IP_АДРЕС_МАШИНЫ_2
    ```

    
2. **Результат:**  
    Вы должны войти на Машину 2 **мгновенно, без всяких запросов пароля**. Командная строка в вашем терминале изменится на приглашение от Машины 2 (например, [hyrip@arch-machine2 ~]$).
    

**Поздравляю, вы настроили безопасное и удобное подключение!**

---

### **Как настроить вход в обратную сторону (с Машины 2 на Машину 1)?**

Процесс абсолютно идентичен. Вы просто повторяете все шаги, поменяв машины местами:

1. **На Машине 2:** Запустите ssh-keygen -t ed25519, чтобы создать там свою пару ключей.
    
2. **На Машине 2:** Выполните ssh-copy-id для копирования нового ключа на Машину 1 (ssh-copy-id -i ~/.ssh/id_ed25519.pub имя_пользователя_1@IP_АДРЕС_МАШИНЫ_1).
    
3. **На Машине 2:** Проверьте подключение к Машине 1 командой ssh.