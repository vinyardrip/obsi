

# Troubleshooting Web Font Issues

**Tags:** #fonts #css #debugging #frontend #checklist

Веб-шрифты — одна из самых частых причин "тихих" багов на проде, когда сайт выглядит "вроде нормально", но типографика нарушена. Этот чеклист поможет быстро диагностировать и решить 99% проблем со шрифтами.

---

## 1. Проактивная проверка: Как убедиться, что загрузился нужный шрифт?

Не доверяйте глазам! Используйте инструменты, чтобы быть на 100% уверенным.

### Метод А: Вкладка "Computed" (Вычисленные) в DevTools

Это самый быстрый и надежный способ.

1.  Откройте DevTools (F12) и выберите элемент с текстом.
2.  Перейдите на вкладку **Computed** (Вычисленные).
3.  Пролистайте в самый низ до секции **Rendered Fonts** (Отрисованные шрифты).

![[Pasted image 202310291000.png]] (*здесь вы можете вставить скриншот для наглядности*)

- **✅ Правильно:** Вы видите имя вашего кастомного шрифта (`JetBrains Mono`, `Spectral` и т.д.).
- **❌ Неправильно:** Вы видите системный шрифт (`Times New Roman`, `Arial`, `Verdana` и т.д.). Это значит, что ваш шрифт **не загрузился**, и браузер использовал fallback.

### Метод Б: Вкладка "Network" (Сеть)

1.  Откройте DevTools (F12), перейдите на вкладку **Network** (Сеть).
2.  Выберите фильтр **Fonts** (Шрифты).
3.  Перезагрузите страницу (`Ctrl+R` или `Cmd+R`).

- **✅ Правильно:** Вы видите в списке все ваши файлы шрифтов (`.woff2`) со статусом `200 OK`.
- **❌ Неправильно:** Файлы шрифтов отсутствуют или имеют статус `404 Not Found`.

---

## 2. Чеĸ-лист для отладки: "Шрифт не загрузился" (404 ошибка)

Если в Network вы видите ошибку 404, проблема в пути к файлу.

#### Для проектов на Vite с плагинами (`vite-plugin-webfont-dl`):

1.  **Проверьте `vite.config.js`**:
    -   **Опечатка в `local:`**. Имя `local: 'JetBrainsMono-Bold'` должно **до символа совпадать** с именем файла в `/src/assets/fonts/`.
    -   **Неправильный путь к исходникам.** Убедитесь, что исходные `.ttf`/`.otf` лежат именно в `/src/assets/fonts/`.

2.  **Проверьте главный SCSS/CSS файл**:
    -   Убедитесь, что импорт виртуального модуля (`@import 'virtual:fonts.css';`) существует и находится в самом верху файла `/src/scss/app.scss`.

---

## 3. Чеĸ-лист для отладки: "Шрифт загрузился, но не применяется"

Если в Network все файлы на месте, но в Computed вы видите системный шрифт.

1.  **Проверьте CSS правило `font-family`**:
    -   **Несовпадение имен.** Имя, которое вы используете в CSS (`font-family: jbmono-bold, sans-serif;`), должно **точно совпадать** с тем, что сгенерировано в `@font-face`.
    -   **В Vite:** Проверьте `name: 'jbmono-bold'` в `vite.config.js`.

2.  **Проверьте специфичность CSS**:
    -   Возможно, более специфичное правило CSS (например, от фреймворка или другого компонента) переопределяет ваш `font-family`. Используйте DevTools, чтобы проверить, какое именно правило применяется к элементу.

3.  **Проверьте синтаксис `@font-face`**:
    -   **Неверный `font-weight` или `font-style`**. Если вы применяете к тексту `font-weight: 700`, а в `@font-face` для этого начертания указан `font-weight: 400`, браузер может не "связать" их и не применить шрифт.
    -   **В Vite:** Убедитесь, что в `vite.config.js` правильно указаны `weights: ['700']` и `style: 'normal'` для каждого файла.

---

## 4. Специальный трюк для отладки отличий

Иногда сложно на глаз отличить похожие шрифты (например, Arial от Helvetica).

Создайте специальный тестовый HTML-элемент и примените к нему оба шрифта, чтобы увидеть разницу рядом.

```css
.debug-font-1 { font-family: 'Proxima Nova', sans-serif; }
.debug-font-2 { font-family: Arial, sans-serif; }
````

codeHtml

```
<p class="debug-font-1">The quick brown fox jumps over the lazy dog.</p>
<p class="debug-font-2">The quick brown fox jumps over the lazy dog.</p>
```

Это сразу покажет, применяется ли ваш кастомный шрифт или fallback.