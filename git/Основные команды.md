
## git add

```
// Добавить конкретный файл
git add имя_файла.txt

// Добавить все изменения в текущей папке и подпапках
git add .

//Добавить все измененные и новые файлы во всем репозитории
git add -A

// Интерактивно выбрать, какие части изменений в файле добавить
git add -p

```


##  git commit

```
// Создать коммит с коротким сообщением прямо из командной строки
git commit -m "Исправлена опечатка в README"

// Открыть текстовый редактор для ввода подробного сообщения коммита
git commit

```

Если вы забыли что-то добавить в последний коммит, можно использовать git commit --amend, но делайте это только с коммитами, которые еще не были отправлены на удаленный сервер (git push), иначе создадите проблемы коллегам.

## git push

```
// Скачать изменения из ветки 'main' репозитория 'origin' и слить их с текущей локальной веткой
git pull origin main

// Короткая версия, если upstream настроен для текущей ветки
git pull
```


## git pull

```
// Скачать изменения из ветки 'main' репозитория 'origin' и слить их с текущей локальной веткой
git pull origin main

// Короткая версия, если upstream настроен для текущей ветки
git pull
```


## git branch

```
// Показать все локальные ветки
git branch

// Создать новую ветку с именем 'new-feature'
git branch new-feature

// Удалить ветку (безопасно - не даст удалить, если изменения не слиты)
git branch -d old-feature

// Удалить ветку принудительно (опасно - можно потерять изменения)
git branch -D very-old-feature

// Показать все ветки (локальные и удаленные)
git branch -a
```


## git checkout

```
// Переключиться на существующую ветку 'develop'
git checkout develop

// Создать новую ветку 'hotfix' и сразу переключиться на неё
git checkout -b hotfix

// Отменить изменения в файле 'config.yml' до состояния последнего коммита
git checkout -- config.yml
```

Использование git checkout -- файл опасно, так как отменяет все незакоммиченные изменения в файле безвозвратно. Будьте уверены, что делаете это намеренно. Из-за многозначности checkout, в новых версиях Git появились команды git switch (для переключения веток) и git restore (для восстановления файлов), которые делают код более читаемым и безопасным. Но checkout всё ещё очень распространён.


## git switch

```
// Переключиться на существующую ветку 'feature/auth'
git switch feature/auth

// Создать новую ветку 'bugfix/login-issue' и переключиться на неё
git switch -c bugfix/login-issue

// Вернуться на предыдущую ветку
git switch -
```


## git merge

```
// Переключаемся на основную ветку
git switch main

// Вливаем изменения из ветки 'new-feature' в 'main'
git merge new-feature
```


## git rebase

```
git checkout feature // переключаемся на ветку
git rebase main // так же вливаем изменения
```

После завершения — git push --force, если история уже была опубликована.


## git log

```
// Показать стандартный лог
git log

// Показать лог в более компактном виде (одна строка на коммит)
git log --oneline

// Показать лог с графическим представлением веток и слияний
git log --graph --oneline --decorate

// Показать лог изменений для конкретного файла
git log имя_файла.py

// Показать последние 5 коммитов
git log -n 5
```

Изучение git log и его опций — очень полезный навык. Он помогает не только смотреть историю, но и находить конкретные коммиты, например, чтобы отменить их (git revert) или посмотреть изменения (git show ).


## git diff

```
// Показать изменения в рабочем каталоге, которые еще НЕ добавлены в индекс (unstaged changes)
git diff

// Показать изменения, которые добавлены в индекс, но еще НЕ закоммичены (staged changes)
git diff --staged
// или
git diff --cached

// Показать разницу между двумя коммитами
git diff  

// Показать разницу между двумя ветками
git diff main develop
```


## git stash

```
// Сохранить текущие незакоммиченные изменения в 'stash'
git stash save "Работа над интерфейсом пользователя" # Необязательное сообщение

// Показать список сохраненных состояний ('stashes')
git stash list

// Применить последние сохраненные изменения и удалить их из списка stash
git stash pop

// Применить последние сохраненные изменения, но оставить их в списке stash
git stash apply

// Удалить последнее сохраненное состояние из списка
git stash drop
```

git stash — это спасение, когда вам срочно нужно переключиться на другую задачу (например, исправить баг в продакшене), но ваша текущая работа еще не готова к коммиту. Только не забывайте про сохраненные изменения в stash, со временем там может накопиться много всего, и будет сложно вспомнить, что к чему относится.


## git reset

```
// Отменить 'git add' для файла (убрать из индекса, но оставить изменения в рабочем каталоге)
git reset HEAD имя_файла
// или более современный вариант: git restore --staged имя_файла

// Откатить последний коммит, но оставить изменения в рабочем каталоге и индексе (--soft)
git reset --soft HEAD~1

// Откатить последний коммит, оставить изменения в рабочем каталоге, но убрать из индекса (--mixed - это режим по умолчанию)
git reset HEAD~1

// Откатить последний коммит И УДАЛИТЬ все связанные с ним изменения из рабочего каталога и индекса (--hard - ОПАСНО!)
git reset --hard HEAD~1
```

Используйте git reset с осторожностью, особенно --hard, так как он безвозвратно удаляет незакоммиченные изменения. git reset также используется для отмены коммитов, которые еще не были отправлены на удаленный сервер. Если коммит уже опубликован (git push), для его отмены лучше использовать git revert, чтобы не переписывать общую историю.