
# Рабочий процесс с tmux и ddev

Этот документ описывает последовательность действий для эффективной работы с проектами ddev внутри сессий tmux. Такой подход позволяет поддерживать рабочее окружение активным в фоновом режиме, легко переключаться между задачами и сохранять контекст работы.

## Последовательность действий

### 1. Начало рабочего дня (Создание или подключение к сессии)

Если вы начинаете работу с нуля или после перезагрузки компьютера, нужно создать новую сессию.

1. **Создать новую именованную сессию:**
    
    codeBash
    
    ```
    tmux new -s project-name
    ```
    
    Замените project-name на реальное название вашего проекта, например grandmebel.
    
2. **Перейти в директорию проекта и запустить ddev:**
    
    codeBash
    
    ```
    cd /path/to/project
    ddev start
    ```
    
3. **Если сессия уже существует** (например, вы просто закрыли терминал вчера), проверьте список активных сессий:
    
    codeBash
    
    ```
    tmux ls
    ```
    
    И подключитесь к нужной:
    
    codeBash
    
    ```
    tmux attach -t project-name
    ```
    

### 2. В течение дня (Отключение от сессии)

Если вам нужно переключиться на другую задачу, отойти от компьютера или закрыть терминал, **не завершайте сессию**, а отключайтесь от неё.

> **Важно:** Не нужно останавливать ddev! Все процессы продолжат работать в фоне.

Для отключения от текущей сессии:

1. Нажмите префиксную комбинацию **Ctrl + b**.
    
2. Сразу после этого нажмите клавишу **d** (от detach).
    

Вы вернётесь в обычный терминал, а сессия project-name останется активной.

### 3. Конец рабочего дня (Завершение работы)

Когда вы полностью закончили работу и хотите освободить ресурсы системы:

1. **Подключитесь к сессии**, если вы были отключены:
    
    codeBash
    
    ```
    tmux attach -t project-name
    ```
    
2. **Остановите окружение ddev:**
    
    codeBash
    
    ```
    ddev poweroff
    ```
    
3. **Завершите сессию tmux:**  
    Введите команду exit или нажмите **Ctrl + d**.
    

## Основные команды tmux

Для удобства все комбинации клавиш выполняются после нажатия "префикса" — **Ctrl + b**.

|   |   |   |
|---|---|---|
|Описание|Полная команда (в терминале)|Комбинация клавиш / Короткая команда|
|**Сессии**|||
|Создать новую сессию|tmux new-session -s <имя>|tmux new -s <имя>|
|Показать список сессий|tmux list-sessions|tmux ls|
|Подключиться к сессии|tmux attach-session -t <имя>|tmux a -t <имя>|
|Отключиться от сессии||Ctrl+b затем d|
|Переименовать сессию|tmux rename-session -t <старое> <новое>|Ctrl+b затем $|
|**Окна**|||
|Создать новое окно||Ctrl+b затем c|
|Переключиться на следующее окно||Ctrl+b затем n|
|Переключиться на предыдущее окно||Ctrl+b затем p|
|Перейти к окну по номеру||Ctrl+b затем <номер_окна>|
|Переименовать текущее окно||Ctrl+b затем ,|
|Закрыть текущее окно||Ctrl+b затем &|
|**Панели (Panes)**|||
|Разделить панель вертикально||Ctrl+b затем %|
|Разделить панель горизонтально||Ctrl+b затем "|
|Переключение между панелями||Ctrl+b затем <стрелки>|
|Закрыть текущую панель||Ctrl+b затем x|
|Увеличить/уменьшить панель||Ctrl+b затем z (toggle zoom)|