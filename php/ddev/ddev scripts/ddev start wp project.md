
```bash
#!/usr/bin/env bash
# =================================================================
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ WordPress –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ DDEV "—Å –Ω—É–ª—è".
# –í–ï–†–°–ò–Ø 1.8: –í–æ–∑–≤—Ä–∞—â–µ–Ω —Ñ–ª–∞–≥ --project-tld "lo" –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ URL.
#
# –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
# 1. –°–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ª–æ–∫–∞–ª—å–Ω—ã–º –¥–æ–º–µ–Ω–æ–º.
# 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç WordPress.
# 3. –ö–æ–ø–∏—Ä—É–µ—Ç, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç style.css –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Ç–µ–º—É.
# 4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
# =================================================================

set -e

# --- ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–¢–ï –≠–¢–ò –ü–ï–†–ï–ú–ï–ù–ù–´–ï –ü–û–î –°–ï–ë–Ø ---
DDEV_PROJECTS_BASE_PATH="$HOME/projects/work/php"
STARTER_THEME_PATH="$HOME/projects/work/_s-template"
ADMIN_USER="admin"
ADMIN_EMAIL="admin@example.com"
ADMIN_PASS="admin"
# --- –ö–æ–Ω–µ—Ü –Ω–∞—Å—Ç—Ä–æ–µ–∫ ---

# --- –£—Ç–∏–ª–∏—Ç—ã –∏ —Ü–≤–µ—Ç–∞ ---
if command -v tput >/dev/null 2>&1; then
    GREEN=$(tput setaf 2); YELLOW=$(tput setaf 3); BLUE=$(tput setaf 4); RED=$(tput setaf 1); NC=$(tput sgr0)
else
    GREEN='\033[0;32m'; YELLOW='\033[1;33m'; BLUE='\033[0;34m'; RED='\033[0;31m'; NC='\033[0m'
fi

# --- –õ–æ–≥–∏–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ ---
if [ -z "$1" ]; then
    printf "%s–û—à–∏–±–∫–∞: –£–∫–∞–∂–∏—Ç–µ –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞.%s\n" "${RED}" "${NC}"
    printf "–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: %s my-new-site\n" "$(basename "$0")"
    exit 1
fi

PROJECT_NAME=$1
PROJECT_PATH="${DDEV_PROJECTS_BASE_PATH}/${PROJECT_NAME}"
SITE_URL="https://${PROJECT_NAME}.lo" # <-- –ú—ã –æ–∂–∏–¥–∞–µ–º –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç URL

if [ -d "$PROJECT_PATH" ]; then
    printf "%s–í–ù–ò–ú–ê–ù–ò–ï: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è '%s' —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞.%s\n" "${YELLOW}" "${PROJECT_PATH}" "${NC}"
    exit 1
fi

printf "%s--- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ WordPress –ø—Ä–æ–µ–∫—Ç–∞: %s%s%s ---\n" "${BLUE}" "${GREEN}" "${PROJECT_NAME}" "${NC}"

printf "–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞...\n"
mkdir -p "$PROJECT_PATH"
cd "$PROJECT_PATH"

printf "–®–∞–≥ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ DDEV...\n"
# === –í–û–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –í–û–ó–í–†–ê–©–ê–ï–ú --project-tld "lo" ===
ddev config --project-type wordpress --docroot "" --project-tld "lo"
ddev start

printf "–®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ WordPress...\n"
ddev wp core download --locale=ru_RU
printf "‚úî –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π...\n"
ddev wp db reset --yes
ddev wp core install --url="$SITE_URL" --title="–ù–æ–≤—ã–π —Å–∞–π—Ç ${PROJECT_NAME}" --admin_user="$ADMIN_USER" --admin_password="$ADMIN_PASS" --admin_email="$ADMIN_EMAIL"

if [ -d "$STARTER_THEME_PATH" ]; then
    printf "–®–∞–≥ 4: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Ç–µ–º—ã '%s'...\n" "$PROJECT_NAME"
    THEME_DIR="wp-content/themes/${PROJECT_NAME}"
    cp -r "${STARTER_THEME_PATH}/." "$THEME_DIR"
    if [ ! -f "${THEME_DIR}/style.css" ]; then
        printf "‚úî –§–∞–π–ª style.css –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–æ–∑–¥–∞–µ–º –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏...\n"
        cat << EOF > "${THEME_DIR}/style.css"
/*
Theme Name: ${PROJECT_NAME}
Author: Auto-generated by DDEV Script
Version: 1.0
*/
EOF
    fi
    ddev wp theme activate "$PROJECT_NAME"
    printf "‚úî –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ–º—ã —É–¥–∞–ª—è—é—Ç—Å—è –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞...\n"
    ddev wp theme delete twentytwentytwo twentytwentythree twentytwentyfour >/dev/null 2>&1 || true
else
    printf "%s–í–ù–ò–ú–ê–ù–ò–ï: –ü—É—Ç—å –∫ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π —Ç–µ–º–µ –Ω–µ —É–∫–∞–∑–∞–Ω. –®–∞–≥ –ø—Ä–æ–ø—É—â–µ–Ω.%s\n" "${YELLOW}" "${NC}"
fi

printf "–®–∞–≥ 5: –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤...\n"
ddev wp plugin delete akismet hello >/dev/null 2>&1 || true

printf "\n%süéâ –ü—Ä–æ–µ–∫—Ç '%s' —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω! üéâ%s\n" "${GREEN}" "${PROJECT_NAME}" "${NC}"
echo "------------------------------------------------"
printf "–°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω: %s%s%s\n" "${YELLOW}" "${SITE_URL}" "${NC}"
printf "–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:  %s%s/wp-admin/%s\n" "${YELLOW}" "${SITE_URL}" "${NC}"
printf "–õ–æ–≥–∏–Ω:         %s%s%s\n" "${YELLOW}" "${ADMIN_USER}" "${NC}"
printf "–ü–∞—Ä–æ–ª—å:        %s%s%s\n" "${YELLOW}" "${ADMIN_PASS}" "${NC}"
printf "–ü—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º: %s%s%s\n" "${YELLOW}" "${PROJECT_PATH}" "${NC}"
echo "------------------------------------------------"

ddev launch

exit 0
