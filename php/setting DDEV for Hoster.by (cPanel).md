


Эта заметка содержит шаблон конфигурации DDEV для создания локального окружения, которое является "цифровым двойником" реального шаред-хостинга на **Hoster.by** с панелью управления **cPanel**.

Цель — безопасно тестировать обновления (например, переход на новую версию PHP), прежде чем применять их на рабочем сайте.

---

## Шаг 1: Сбор информации с хостинга

Перед настройкой DDEV необходимо узнать точные версии программного обеспечения на вашем сервере.

### 1. Узнаем версию PHP

- Зайдите в **cPanel** на Hoster.by.
    
- Перейдите в раздел "Программное обеспечение" -> "**Выбор версии PHP**" (или "MultiPHP Manager").
    
- Найдите активную версию для вашего домена (например, 7.4, 8.1 и т.д.).
    

### 2. Узнаем версию Базы Данных

- В **cPanel** перейдите в раздел "Базы данных" -> "**phpMyAdmin**".
    
- На главной странице phpMyAdmin найдите блок "**Сервер баз данных**".
    
- Запишите основную версию из строки "Версия сервера" (например, если видите 10.6.18-MariaDB, ваша версия — 10.6).
    

---

## Шаг 2: Конфигурационный файл .ddev/config.yaml

Создайте или отредактируйте файл .ddev/config.yaml в корне вашего проекта и вставьте следующий код, заменив значения на те, что вы получили на Шаге 1.

codeYaml

```
# .ddev/config.yaml
# Шаблон для хостинга Hoster.by (cPanel, Apache + Nginx)

name: my-hoster-by-project
type: wordpress # Укажите тип вашего проекта (wordpress, drupal, laravel, php)
docroot: "public_html" # Стандартная корневая папка на cPanel

# --- САМАЯ ВАЖНАЯ ЧАСТЬ ---

# 1. Указываем версию PHP, которую вы нашли в cPanel
# ЗАМЕНИТЕ НА ВАШУ ВЕРСИЮ С ХОСТИНГА
php_version: "7.4"

# 2. Указываем, что PHP должен обрабатывать Apache, чтобы работали .htaccess
# Это правильно эмулирует связку Apache + Nginx на хостинге.
webserver_type: apache-fpm

# 3. Указываем версию базы данных, которую вы нашли в phpMyAdmin
# ЗАМЕНИТЕ НА ВАШУ ВЕРСИЮ С ХОСТИНГА
database:
  type: mariadb
  version: "10.6"

# --- КОНЕЦ ВАЖНОЙ ЧАСТИ ---

# Установка phpMyAdmin как дополнения (рекомендуемый способ)
# Если дополнение еще не установлено, выполните в терминале:
# ddev add-on get ddev/ddev-phpmyadmin
# После этого можно удалить следующие 2 строки:
# phpmyadmin: true
# phpmyadmin_version: "5"

# Остальные настройки DDEV по умолчанию...
```

---

## Шаг 3: Процесс тестирования обновлений

1. **Запуск.** Запустите DDEV с этой конфигурацией (ddev start) и убедитесь, что ваш сайт работает корректно.
    
2. **Смена версии PHP.** Для теста откройте config.yaml и измените **только** значение php_version (например, на "8.2"). **Не меняйте версию базы данных!**
    
3. **Перезапуск.** Примените изменения командой ddev restart.
    
4. **Тестирование.** Проверьте работоспособность сайта и изучите логи на предмет ошибок (ddev logs -f). Все найденные проблемы — это то, что нужно исправить в коде перед обновлением на "живом" сервере.